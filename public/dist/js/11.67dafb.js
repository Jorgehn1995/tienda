/*! For license information please see 11.67dafb.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{122:function(t,e,r){"use strict";var n=r(318),o=r(1),a=r(1343),i=r(111),s=r(1342),c=r(28),u=r(31),l={components:{BusquedaTextField:r(68).a,TListar:u.a,MostrarPrecio:c.a},props:{value:{type:Array,default:function(){return[]}},colores:{type:Array,default:function(){return[]}},height:{type:Number,default:250}},data:function(){return{isLoading:!1,seleccionado:-1,ajustes:{id:"idprecio",ruta:"/presentaciones",buscar:""}}},methods:{agregarProducto:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(t>=0&&(this.seleccionado=t),!(this.seleccionado<0)){var e=this.$refs.tabla.data[this.seleccionado],r=JSON.parse(JSON.stringify(e));r.carrito=1;var n=this.carrito.findIndex((function(t){return t.idprecio==e.idprecio}));n<0?this.carrito.push(r):this.carrito[n].carrito++}},restarProducto:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(t>=0&&(this.seleccionado=t),!(this.seleccionado<0)){var e=this.$refs.tabla.data[this.seleccionado],r=JSON.parse(JSON.stringify(e));r.carrito=1;var n=this.carrito.findIndex((function(t){return t.idprecio==e.idprecio}));n>=0&&(this.carrito[n].carrito>1?this.carrito[n].carrito--:this.carrito.splice(n,1))}},presentacionArriba:function(){0==this.seleccionado?this.seleccionado=this.$refs.tabla.data.length-1:this.seleccionado--,this.movimiento()},presentacionAbajo:function(){this.seleccionado==this.$refs.tabla.data.length-1?this.seleccionado=0:this.seleccionado++,this.movimiento()},movimiento:function(){var t=this.$refs.panel.clientHeight,e=this.$refs["pre"+this.seleccionado].$parent.$parent.$parent.$el.offsetTop+this.$refs["pre"+this.seleccionado].$parent.$parent.$parent.$el.clientHeight-t;this.$refs.panel.scrollTop=e>0?e:0}},computed:{extraQuery:function(){return""},carrito:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},search:function(){return this.$route.query.v_search},getHeight:function(){return this.$vuetify.breakpoint.xsOnly?"320px":this.height+"px"}},watch:{search:function(){this.seleccionado=-1}}},f=(r(452),r(4)),d=Object(f.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("busqueda-text-field",{attrs:{prefix:"v_search",elevation:0,actions:!1}}),t._v(" "),e("div",{ref:"panel",staticClass:"px-1",style:"height: calc(100vh - "+t.getHeight+"); overflow-y: auto"},[e(s.a,{attrs:{dense:""}},[t.search?e(a.a,{attrs:{cols:"12"}},[e("t-listar",{ref:"tabla",attrs:{tableID:"actividades.profesores",prefix:"v_","show-select":"","show-expand":"","toggle-columns":"",extraQuery:t.extraQuery,apiURL:t.ajustes.ruta,itemID:t.ajustes.id,truncate:!0,show_menu:!0,pagination:50,toolbar:!1,lg:12,md:12},on:{"click:row":function(e){return t.ver(e)},"update:seleccion":function(e){t.carrito=e}},scopedSlots:t._u([{key:"item",fn:function(r){r.isSelected,r.toggle;var c=r.item,u=r.index;return[e(n.a,{ref:"pre"+u,staticClass:"cursor-pointer",class:t.seleccionado==u?"selected-card":"unselected-card",attrs:{elevation:"0"},on:{click:function(e){return t.agregarProducto(u)}}},[e(o.c,[e(s.a,{attrs:{dense:""}},[e(a.a,{attrs:{cols:"12",md:"2"}},[e("div",{staticClass:"d-flex align-center justify-space-between"},[e(i.a,[t._v("mdi-barcode")]),t._v(" "),e("span",[t._v("\n                                                "+t._s(c.producto.codigo)+"\n                                            ")])],1)]),t._v(" "),e(a.a,{attrs:{cols:"12",md:"5"}},[e("div",{staticClass:"d-flex justify-center align-center flex-column"},[e("span",{staticClass:"text-h6 font-weight-black"},[t._v("\n                                                "+t._s(c.producto.nombre)+"\n                                                "+t._s(c.producto.dimension)+"\n                                            ")]),t._v(" "),e("span",{staticClass:"subtitle-2 font-weight-black",class:t.colores[c.idproducto%6]+"--text "},[t._v("\n                                                "+t._s(c.producto.marca)+"\n                                            ")])])]),t._v(" "),e(a.a,{attrs:{cols:"12",md:"3"}},[e("div",{staticClass:"d-flex justify-center align-center flex-column"},[e("span",{staticClass:"text-h6 font-weight-black"},[t._v("\n                                                "+t._s(c.nombre)+"\n                                            ")]),t._v(" "),e("span",{staticClass:"subtitle-2 font-weight-black"},[t._v("\n                                                "+t._s(c.cantidad)+"\n                                                "+t._s(c.producto.unidades)+"\n                                            ")])])]),t._v(" "),e(a.a,{attrs:{cols:"12",md:"2"}},[e("mostrar-precio",{scopedSlots:t._u([{key:"moneda",fn:function(){return[e("span",{staticClass:"text-h6 font-weight-bold"},[t._v("\n                                                    Q\n                                                ")])]},proxy:!0},{key:"entero",fn:function(r){var n=r.entero;return[e("span",{staticClass:"text-h5 font-weight-bold"},[t._v("\n                                                    "+t._s(n)+".\n                                                ")])]}},{key:"decimal",fn:function(r){var n=r.decimal;return[e("span",{staticClass:"text-h6 font-weight-bold"},[t._v("\n                                                    "+t._s(n)+"\n                                                ")])]}}],null,!0),model:{value:c.precio,callback:function(e){t.$set(c,"precio",e)},expression:"item.precio"}})],1)],1),t._v(" "),t._e()],1),t._v(" "),t._e()],1)]}}],null,!1,1987728363)})],1):e(a.a,{attrs:{cols:"12"}},[e(n.a,{attrs:{elevation:"0"}},[e(o.c,[e("div",{staticClass:"d-flex justify-center align-center flex-column",style:"height: calc(100vh - "+t.getHeight+"px)"},[e(i.a,{staticClass:"grey--text",attrs:{size:"100"}},[t._v("\n                                mdi-tag-search-outline\n                            ")]),t._v(" "),e("br"),t._v(" "),e("span",[t._v("\n                                Busca un producto por codigo o por\n                                descripción\n                            ")])],1)])],1)],1)],1)],1),t._v(" "),e("div",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["arrowright"],expression:"['arrowright']"}],on:{shortkey:t.agregarProducto}}),t._v(" "),e("div",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["arrowleft"],expression:"['arrowleft']"}],on:{shortkey:t.restarProducto}}),t._v(" "),e("div",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["arrowup"],expression:"['arrowup']"}],on:{shortkey:t.presentacionArriba}}),t._v(" "),e("div",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["arrowdown"],expression:"['arrowdown']"}],on:{shortkey:t.presentacionAbajo}})],1)}),[],!1,null,null,null);e.a=d.exports},1310:function(t,e,r){"use strict";r.r(e);var n=r(98),o=r(318),a=r(1),i=r(1343),s=r(1341),c=r(153),u=r(157),l=r(111),f=r(319),d=r(112),v=r(321),h=r(0),p=r(1339),m=r(1342),y=r(1340),g=r(47),b=r(84),_=r(28),x=r(122),w=r(35),k=r(59),L={components:{MostrarPrecio:_.a},props:{value:{type:Array,default:function(){return[]}},colores:{type:Array,default:function(){return[]}}},methods:{restarProducto:function(t){1==this.carrito[t].carrito?this.carrito.splice(t,1):this.carrito[t].carrito--,this.$emit("update")},sumarProducto:function(t){this.carrito[t].carrito++,this.$emit("update")}},computed:{carrito:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},j=(r(490),r(4));function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(){O=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new k(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=_(i,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function d(){}function v(){}var h={};s(h,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(L([])));m&&m!==e&&r.call(m,o)&&(h=m);var y=v.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,s){var c=u(t[o],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==C(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=v,s(y,"constructor",v),s(v,"constructor",d),d.displayName=s(v,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(c(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;w(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function E(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function $(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){E(a,n,o,i,s,"next",t)}function s(t){E(a,n,o,i,s,"throw",t)}i(void 0)}))}}var S,P={components:{VentaCarrito:Object(j.a)(L,(function(){var t=this,e=t._self._c;return e("div",[e(w.f,{staticClass:"py-0",attrs:{"leave-absolute":"",group:""}},t._l(t.carrito,(function(r,s){return e(o.a,{key:"item"+s,staticClass:"mx-1 mb-1",attrs:{outlined:"",elevation:"0"}},[e(a.c,{staticClass:"py-1"},[e(m.a,{attrs:{dense:""}},[e(i.a,{attrs:{cols:"12",sm:"5"}},[e(f.a,{staticClass:"py-0",attrs:{dense:""}},[e(h.c,[t._v("\n                                "+t._s(r.nombre)+" "+t._s(r.cantidad)+"\n                                "+t._s(r.producto.unidades)+"\n                            ")]),t._v(" "),e(h.d,[t._v("\n                                "+t._s(r.producto.nombre)+"\n                                "+t._s(r.producto.dimension)+"\n                            ")]),t._v(" "),e(h.c,{class:t.colores[r.idproducto%6]+"--text"},[t._v("\n                                "+t._s(r.producto.marca)+"\n                            ")])],1)],1),t._v(" "),e(i.a,{attrs:{cols:"12",sm:"7"}},[e("div",{staticClass:"d-flex justify-space-between"},[e("div",[e(k.a,{attrs:{dense:"",elevation:"0"}},[e(n.a,{attrs:{text:"",icon:""},on:{click:function(e){return t.restarProducto(s)}}},[r.carrito<2?e(l.a,{staticClass:"error--text"},[t._v("\n                                            mdi-delete-outline\n                                        ")]):e(l.a,[t._v("mdi-minus")])],1),t._v(" "),e("div",{staticStyle:{"max-width":"60px"}},[e(g.a,{staticClass:"rounded-lg centered-input",attrs:{outlined:"","hide-details":"",dense:""},model:{value:t.carrito[s].carrito,callback:function(e){t.$set(t.carrito[s],"carrito",e)},expression:"carrito[i].carrito"}})],1),t._v(" "),e(n.a,{attrs:{text:"",icon:""},on:{click:function(e){return t.sumarProducto(s)}}},[e(l.a,[t._v("mdi-plus")])],1)],1)],1),t._v(" "),e("div",{staticClass:"d-flex align-center"},[e("mostrar-precio",{attrs:{value:r.precio*t.carrito[s].carrito}})],1)])])],1)],1)],1)})),1)],1)}),[],!1,null,null,null).exports,VentaBusqueda:x.a,MostrarPrecio:_.a,VentaRecibo:b.a},props:{caja:{type:Object,required:!0},turno:{type:Object,required:!0}},beforeMount:function(){this.$vuetify.breakpoint.smAndDown&&(this.drawer=!1)},mounted:function(){document.getElementsByClassName("v-navigation-drawer__content");this.venta.idturno=this.turno.idturno,this.venta.idcaja=this.caja.idcaja},data:function(){return{drawer:!0,isLoading:!1,isEnded:!1,isDone:!1,isProcesed:!1,saved:!1,isDiscount:!1,colores:["purple","orange","teal","pink","cyan"],carrito:[],venta:{idcaja:0,idturno:0,articulos:0,cliente:0,costo:0,ganancia:0,subtotal:0,ofertas:0,descuento:0,total:0,efectivo:0,cambio:0},proceso:{documento:""},error:{status:!1,msg:""}}},methods:{descuentoManual:function(){var t=this;this.isDiscount=!this.isDiscount,setTimeout((function(){t.$refs.descm.$refs.input.select(),t.$refs.descm.$refs.input.focus()}),50)},nuevaVenta:function(){this.$emit("nuevo")},actualizar:function(){this.calcularTotales()},atajoFinalizar:function(){this.isEnded?this.procesar():this.finalizar()},finalizar:function(){var t=this;0!=this.carrito.length&&(this.isEnded=!0,setTimeout((function(){t.$refs.efectivo.$refs.input.select(),t.$refs.efectivo.$refs.input.focus()}),50))},calcularTotales:function(){var t=this;this.venta.articulos=0,this.venta.subtotal=0,this.venta.ofertas=0,this.venta.total=0,this.venta.costo=0,this.carrito.forEach((function(e){t.venta.articulos=t.venta.articulos+parseInt(e.carrito),t.venta.subtotal+=parseInt(e.carrito)*parseFloat(e.precio),t.venta.costo+=parseInt(e.carrito)*parseFloat(e.costo).toFixed(2)})),this.venta.total=this.venta.subtotal-((parseFloat(this.venta.ofertas)||0)+(parseFloat(this.venta.descuento)||0)),this.venta.ganancia=this.venta.total-this.venta.costo;var e=document.getElementsByClassName("v-navigation-drawer__content");this.$nextTick((function(){e[0].scrollTop=e[0].scrollHeight}))},procesar:function(){var t=this;return $(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isProcesed=!0,e.next=3,t.$axios.post("/ventas/vender",{venta:t.venta,carrito:t.carrito}).then((function(e){t.proceso=e.data,t.isEnded=!1,t.isDone=!0,t.limpiar()})).catch((function(t){console.log("error")}));case 3:t.isProcesed=!1;case 4:case"end":return e.stop()}}),e)})))()},limpiar:function(){this.carrito=[];var t=this.venta.idcaja;this.venta={idcaja:t,articulos:0,cliente:0,costo:0,ganancia:0,subtotal:0,ofertas:0,descuento:0,total:0,efectivo:0,cambio:0},this.$route.replace(this.$route.path)},generarRecibo:function(){var t=this;return $(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isProcesed=!0,e.next=3,t.$axios.post("/ventas/vender",{venta:t.venta,carrito:t.carrito}).then((function(e){t.recibo(e.data.documento)})).catch((function(t){console.log("error")}));case 3:t.isProcesed=!1;case 4:case"end":return e.stop()}}),e)})))()},generarFactura:function(t){var e=this;return $(O().mark((function r(){return O().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.isProcesed=!0,r.next=3,e.$axios.post("/impresiones/recibos/"+t).then((function(t){e.limpiar()})).catch((function(t){console.log("error")}));case 3:e.isProcesed=!1;case 4:case"end":return r.stop()}}),r)})))()}},computed:{descuento:function(){return this.venta.descuento},efectivo:function(){return this.venta.efectivo},idcaja:function(){return this.$route.params.idcaja},cajaNombre:function(){return localStorage.getItem("CAJA_NOMBRE")}},watch:{carrito:{deep:!0,handler:function(){this.calcularTotales()}},descuento:function(){this.calcularTotales()},efectivo:function(){this.venta.cambio=this.venta.efectivo-this.venta.total<0?0:this.venta.efectivo-this.venta.total}}},N=(r(492),Object(j.a)(P,(function(){var t=this,e=t._self._c;return e("div",[e(p.a,{attrs:{permanent:t.$vuetify.breakpoint.mdAndUp,app:"",right:"",width:t.$vuetify.breakpoint.mdAndUp?500:400},scopedSlots:t._u([{key:"prepend",fn:function(){return[e(o.a,{attrs:{tile:""}},[e(a.c,[e(d.a,[t.$vuetify.breakpoint.mdAndUp?t._e():e(v.a,[e(n.a,{attrs:{icon:""},on:{click:function(e){t.drawer=!t.drawer}}},[e(l.a,[t._v("mdi-chevron-left")])],1)],1),t._v(" "),e(h.b,[e(h.c,[t._v("\n                "+t._s(t.caja.nombre)+"\n              ")]),t._v(" "),e(h.d,{staticClass:"text-h6"},[t._v("\n                Cliente Final\n              ")]),t._v(" "),e(h.c,[t._v("\n                "+t._s(t.venta.articulos)+" Productos\n              ")])],1)],1)],1)],1),t._v(" "),e(u.a)]},proxy:!0},{key:"append",fn:function(){return[e(o.a,{staticClass:"mx-2 rounded-lg mb-2",attrs:{elevation:"2"}},[e(f.a,{attrs:{dense:"",color:"transparent"}},[e(d.a,[e(h.c,{},[t._v(" Subtotal ")]),t._v(" "),e(h.d,{staticClass:"text-right"},[e("mostrar-precio",{model:{value:t.venta.subtotal,callback:function(e){t.$set(t.venta,"subtotal",e)},expression:"venta.subtotal"}})],1)],1),t._v(" "),e(d.a,{on:{click:function(e){t.isDiscount=!0}}},[e(h.c,{},[t._v(" Descuentos ")]),t._v(" "),e(h.d,{staticClass:"text-right"},[e("mostrar-precio",{model:{value:t.venta.descuento,callback:function(e){t.$set(t.venta,"descuento",e)},expression:"venta.descuento"}})],1)],1),t._v(" "),e(u.a),t._v(" "),e(d.a,[e(h.c,{staticClass:"align-right"},[e("span",{staticClass:"font-weight-black"},[t._v(" TOTAL ")])]),t._v(" "),e(h.d,{staticClass:"text-right"},[e("mostrar-precio",{staticClass:"primary--text",attrs:{size:20},model:{value:t.venta.total,callback:function(e){t.$set(t.venta,"total",e)},expression:"venta.total"}})],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"pa-2 pt-1 text-center"},[e(n.a,{staticClass:"buy-button",attrs:{dark:"",block:"",color:"primary",target:"_blank"},on:{click:t.finalizar}},[t._v("\n          Procesar Venta [CTRL + ENTER]\n        ")])],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t._v(" "),0==t.carrito.length?e("div",{staticClass:"d-flex justify-center align-center flex-column",staticStyle:{height:"250px"}},[e(l.a,{staticClass:"grey--text",attrs:{size:"100"}},[t._v(" mdi-cart-variant ")]),t._v(" "),e("br"),t._v(" "),e("span",[t._v(" Agregar productos al carrito ")])],1):t._e(),t._v(" "),e("venta-carrito",{ref:"carrito",attrs:{colores:t.colores},on:{update:function(e){return t.actualizar()}},model:{value:t.carrito,callback:function(e){t.carrito=e},expression:"carrito"}})],1),t._v(" "),t.$vuetify.breakpoint.mdAndUp?t._e():e(n.a,{attrs:{fab:"",color:"primary",fixed:"",right:"",bottom:"","x-large":""},on:{click:function(e){t.drawer=!t.drawer}}},[e(l.a,[t._v("mdi-cart")])],1),t._v(" "),e(s.a,[e(m.a,{attrs:{dense:""}},[e(i.a,{attrs:{cols:"12",md:"12"}},[e(o.a,{staticClass:"rounded-lg",attrs:{outlined:""}},[e(a.d,[t._v(" Resultados de Busqueda ")]),t._v(" "),e(a.c,{staticClass:"pb-0"},[e("venta-busqueda",{ref:"busqueda",attrs:{colores:t.colores},model:{value:t.carrito,callback:function(e){t.carrito=e},expression:"carrito"}})],1)],1)],1)],1)],1),t._v(" "),e(c.a,{attrs:{"max-width":"400"},model:{value:t.isEnded,callback:function(e){t.isEnded=e},expression:"isEnded"}},[e(o.a,{staticClass:"rounded-lg"},[e(a.d,[t._v(" Finalizar Venta ")]),t._v(" "),e(a.c,[e(f.a,{attrs:{dense:""}},[e(d.a,[e(h.c,[t._v(" Articulos ")]),t._v(" "),e(h.d,{staticClass:"text-right grey--text"},[t._v("\n              "+t._s(t.venta.articulos)+"\n            ")])],1),t._v(" "),e(u.a,{attrs:{inset:""}}),t._v(" "),e(d.a,[e(h.c,[t._v(" Subtotal ")]),t._v(" "),e(h.d,{staticClass:"text-right grey--text"},[e("mostrar-precio",{model:{value:t.venta.subtotal,callback:function(e){t.$set(t.venta,"subtotal",e)},expression:"venta.subtotal"}})],1)],1),t._v(" "),e(d.a,[e(h.c,[t._v(" Descuento Ofertas ")]),t._v(" "),e(h.d,{staticClass:"text-right grey--text"},[e("mostrar-precio",{model:{value:t.venta.ofertas,callback:function(e){t.$set(t.venta,"ofertas",e)},expression:"venta.ofertas"}})],1)],1),t._v(" "),e(d.a,[e(h.c,[t._v(" Descuento Manual ")]),t._v(" "),e(h.d,{staticClass:"text-right grey--text"},[e("mostrar-precio",{model:{value:t.venta.descuento,callback:function(e){t.$set(t.venta,"descuento",e)},expression:"venta.descuento"}})],1)],1),t._v(" "),e(u.a),t._v(" "),e(d.a,[e(h.c,{staticClass:"align-right text-h6"},[t._v("\n              TOTAL\n            ")]),t._v(" "),e(h.d,{staticClass:"text-right"},[e("div",{staticClass:"d-flex flex-column"},[e("mostrar-precio",{attrs:{size:18},model:{value:t.venta.total,callback:function(e){t.$set(t.venta,"total",e)},expression:"venta.total"}})],1)])],1),t._v(" "),e(d.a,{staticClass:"pt-2"},[e(h.c,{staticClass:"text-h6"},[t._v("\n              Efectivo\n            ")]),t._v(" "),e(h.d,{staticClass:"text-right"},[e(g.a,{ref:"efectivo",staticClass:"text-h6 elevation-0 grey--text right-input rounded-lg",attrs:{outlined:"",min:"0",type:"number",prefix:"Q",placeholder:"##.##"},model:{value:t.venta.efectivo,callback:function(e){t.$set(t.venta,"efectivo",e)},expression:"venta.efectivo"}})],1)],1),t._v(" "),e(d.a,[e(h.c,{staticClass:"text-h6"},[t._v("\n              Cambio\n            ")]),t._v(" "),e(h.d,{staticClass:"text-right text-h6 grey--text"},[e("mostrar-precio",{model:{value:t.venta.cambio,callback:function(e){t.$set(t.venta,"cambio",e)},expression:"venta.cambio"}})],1)],1)],1),t._v(" "),e(n.a,{staticClass:"white--text",attrs:{block:"",large:"",color:"primary",loading:t.isProcesed},on:{click:function(e){return t.atajoFinalizar()}}},[t._v("\n          Finalizar y Cobrar [CTRl + Enter]\n        ")])],1)],1)],1),t._v(" "),e(c.a,{attrs:{"max-width":"400"},model:{value:t.isDiscount,callback:function(e){t.isDiscount=e},expression:"isDiscount"}},[e(o.a,{staticClass:"rounded-lg"},[e(a.d,[t._v(" Descuento ")]),t._v(" "),e(a.c,[e("p",[t._v("Ingresa el descuento en quetzales")]),t._v(" "),e(g.a,{ref:"descm",staticClass:"rounded-lg",attrs:{type:"number",outlined:"",label:"Descuento"},model:{value:t.venta.descuento,callback:function(e){t.$set(t.venta,"descuento",e)},expression:"venta.descuento"}}),t._v(" "),e(u.a),t._v(" "),e(f.a,[e(d.a,[e(h.c,[t._v(" Articulos ")]),t._v(" "),e(h.d,{staticClass:"text-right grey--text"},[t._v("\n              "+t._s(t.venta.articulos)+"\n            ")])],1),t._v(" "),e(u.a,{attrs:{inset:""}}),t._v(" "),e(d.a,[e(h.c,[t._v(" Subtotal ")]),t._v(" "),e(h.d,{staticClass:"text-right grey--text"},[e("mostrar-precio",{model:{value:t.venta.subtotal,callback:function(e){t.$set(t.venta,"subtotal",e)},expression:"venta.subtotal"}})],1)],1),t._v(" "),e(d.a,{on:{click:function(e){t.isDiscount=!0}}},[e(h.c,[t._v(" Descuento Ofertas ")]),t._v(" "),e(h.d,{staticClass:"text-right grey--text"},[e("mostrar-precio",{model:{value:t.venta.ofertas,callback:function(e){t.$set(t.venta,"ofertas",e)},expression:"venta.ofertas"}})],1)],1),t._v(" "),e(d.a,[e(h.c,[t._v(" Descuento Manual ")]),t._v(" "),e(h.d,{staticClass:"text-right grey--text"},[e("mostrar-precio",{model:{value:t.venta.descuento,callback:function(e){t.$set(t.venta,"descuento",e)},expression:"venta.descuento"}})],1)],1),t._v(" "),e(u.a),t._v(" "),e(d.a,[e(h.c,{staticClass:"align-right text-h6"},[t._v("\n              TOTAL\n            ")]),t._v(" "),e(h.d,{staticClass:"text-right"},[e("mostrar-precio",{attrs:{size:18},model:{value:t.venta.total,callback:function(e){t.$set(t.venta,"total",e)},expression:"venta.total"}})],1)],1)],1)],1),t._v(" "),e(a.c,{on:{click:function(e){t.isDiscount=!1}}},[e(n.a,{attrs:{text:"",block:""}},[t._v(" Cerrar ")])],1)],1)],1),t._v(" "),e(c.a,{attrs:{"max-width":"400"},model:{value:t.isDone,callback:function(e){t.isDone=e},expression:"isDone"}},[e(o.a,{staticClass:"rounded-lg"},[e(a.d,[t._v(" Venta Procesada ")]),t._v(" "),e(u.a),t._v(" "),e(a.c,[t._v("\n        Su venta se ha procesado con exito\n        "),e("br"),t._v("\n        ¿Cómo desea proceder?\n      ")]),t._v(" "),e(a.a,[e("venta-recibo",{staticClass:"mr-2",scopedSlots:t._u([{key:"default",fn:function(r){var o=r.open,a=r.loading;return[e(n.a,{attrs:{color:"primary",outlined:"",dark:"",loading:a},on:{click:o}},[e(l.a,{attrs:{left:""}},[t._v("mdi-printer")]),t._v("\n            Generar Recibo\n          ")],1)]}}]),model:{value:t.proceso,callback:function(e){t.proceso=e},expression:"proceso"}}),t._v(" "),e(y.a),t._v(" "),t._e(),t._v(" "),e(n.a,{attrs:{color:"primary"},on:{click:function(e){return t.nuevaVenta()}}},[t._v(" Nueva Venta ")])],1)],1)],1),t._v(" "),e("div",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","enter"],expression:"['ctrl', 'enter']"}],on:{shortkey:function(e){return t.atajoFinalizar()}}}),t._v(" "),e("div",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","m"],expression:"['ctrl', 'm']"}],on:{shortkey:function(e){return t.descuentoManual()}}})],1)}),[],!1,null,"52cd5058",null).exports),T=r(77),z=r(63);function F(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var D={components:(S={CajaHabilitada:z.a,TurnoHabilitado:T.a,CajaVender:N},F(S,"CajaHabilitada",z.a),F(S,"TurnoHabilitado",T.a),F(S,"CajaVender",N),S),data:function(){return{isLoading:!1,update:0}}},A=Object(j.a)(D,(function(){var t=this,e=t._self._c;return e("div",[e("caja-habilitada",{scopedSlots:t._u([{key:"default",fn:function(r){var n=r.caja;return[e("turno-habilitado",{attrs:{caja:n},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.turno;return[e("caja-vender",{key:t.update,attrs:{caja:n,turno:o},on:{nuevo:function(e){t.update++}}})]}}],null,!0)})]}}])})],1)}),[],!1,null,null,null);e.default=A.exports},28:function(t,e,r){"use strict";var n={props:{value:{type:[String,Number],default:0},size:{type:[Number,String],default:15}},computed:{precio:{get:function(){return parseFloat(this.value).toFixed(2).split(".")},set:function(t){this.$emit("input",t)}},decimalSize:function(){return this.size<15?this.size:this.size-3}}},o=(r(441),r(4)),a=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"px-1 d-flex justify-space-between font-weight-black",staticStyle:{"white-space":"nowrap","min-width":"80px"}},[e("span",{style:"font-size:"+t.size+"px !important"},[t._t("moneda",(function(){return[t._v(" Q ")]}))],2),t._v(" "),e("div",[e("div",{staticClass:"d-flex flex-row"},[e("div",{staticClass:"money",style:"font-size:"+t.size+"px !important"},[t._t("entero",(function(){return[t._v("\n                    "+t._s(t.precio[0])+".\n                ")]}),{entero:t.precio[0]})],2),t._v(" "),e("div",{class:t.decimalSize!=t.size?"decimal":"",style:"font-size:"+t.decimalSize+"px !important"},[t._t("decimal",(function(){return[t._v("\n                    "+t._s(t.precio[1])+"\n                ")]}),{decimal:t.precio[1]})],2)])])])}),[],!1,null,null,null);e.a=a.exports},328:function(t,e,r){var n=r(442);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(10)(n,o);n.locals&&(t.exports=n.locals)},330:function(t,e,r){var n=r(453);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(10)(n,o);n.locals&&(t.exports=n.locals)},338:function(t,e,r){var n=r(491);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(10)(n,o);n.locals&&(t.exports=n.locals)},339:function(t,e,r){var n=r(493);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(10)(n,o);n.locals&&(t.exports=n.locals)},441:function(t,e,r){"use strict";r(328)},442:function(t,e,r){(e=r(9)(!1)).push([t.i,".decimal{vertical-align:super;margin-top:-3px}",""]),t.exports=e},452:function(t,e,r){"use strict";r(330)},453:function(t,e,r){(e=r(9)(!1)).push([t.i,".selected-card{border:2px solid var(--v-primary-base)!important}.unselected-card{border:2px solid var(--v-background-darken1)!important}",""]),t.exports=e},490:function(t,e,r){"use strict";r(338)},491:function(t,e,r){(e=r(9)(!1)).push([t.i,".centered-input input{text-align:center;font-weight:700;padding:0;margin:0}",""]),t.exports=e},492:function(t,e,r){"use strict";r(339)},493:function(t,e,r){(e=r(9)(!1)).push([t.i,".right-input[data-v-52cd5058] input{text-align:right}.shadow-top[data-v-52cd5058]{top:0;background:linear-gradient(180deg,rgba(0,0,0,.2) 0,transparent)!important}.shadow-bottom[data-v-52cd5058],.shadow-top[data-v-52cd5058]{position:absolute;left:0;right:0;height:10px}.shadow-bottom[data-v-52cd5058]{bottom:0;background:linear-gradient(0deg,rgba(0,0,0,.2) 0,transparent)!important}",""]),t.exports=e},68:function(t,e,r){"use strict";var n=r(98),o=r(318),a=r(1),i=r(1343),s=r(111),c=r(1342),u=r(47);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v={props:{close:{type:Boolean,default:!1},icon:{type:String,default:"mdi-magnify"},placeholder:{type:String,default:"Buscar:"},prefix:{type:String,default:"q"},time:{type:Number,default:1e3},elevation:{type:Number,default:3},outlined:{type:Boolean,default:!0},actions:{type:Boolean,default:!0},autofocus:{type:Boolean,default:!0},type:{type:String,default:"text"},label:{type:String,default:"Código de Barras"}},mounted:function(){this.final&&(this.search=this.final),this.ready=!0,this.autofocus&&this.skBuscarCodigo()},data:function(){return{isLoading:!1,search:"",ready:!1,timer:null,updates:0}},methods:{realizarBusqueda:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.time;this.isLoading=!0,this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){t.final=t.search,t.isLoading=!1}),e)},actualizarRuta:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.$route.query;r?delete n[t]:n[t]=e.toString(),this.$router.replace({query:f(f({},n),{},{t:this.updates++})}).catch((function(){}))},cerrar:function(){this.$emit("close",!1)},skBuscarCodigo:function(){this.$refs.buscarCodigo.$refs.input.select(),this.$refs.buscarCodigo.$refs.input.focus()},skLimpiar:function(){this.codigo="",this.isLoading=!1,this.isNew=!1,this.isFound=!1,this.$refs.buscarCodigo.$refs.input.focus()},skEnfocarTextField:function(t){this.$refs[t].$refs.input.select(),this.$refs[t].$refs.input.focus()}},computed:{final:{get:function(){return this.$route.query[this.prefix]||""},set:function(t){null==t?this.actualizarRuta(this.prefix,"",!0):this.actualizarRuta(this.prefix,t,""==t)}}},watch:{search:function(){this.ready?this.realizarBusqueda():this.ready=!0},final:function(){this.search=this.final}}},h=r(4),p=Object(h.a)(v,(function(){var t=this,e=t._self._c;return e("div",[e(o.a,{attrs:{outlined:!1,elevation:t.elevation,tile:""}},[e(a.c,{staticClass:"pa-0"},[e(c.a,{attrs:{dense:""}},[e(i.a,{staticClass:"py-0",attrs:{cols:"12",sm:"8"}},[e(u.a,{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","q"],expression:"['ctrl', 'q']"}],ref:"buscarCodigo",staticClass:"rounded-lg",staticStyle:{"font-size":"25px"},attrs:{type:t.type,outlined:"",height:"60",label:t.label+" [CTRL+Q]","prepend-icon":"mdi-barcode",placeholder:"Ingrese el Codigo","append-outer-icon":t.close?"mdi-chevron-right":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.realizarBusqueda(0)},"click:append-outer":function(e){return t.cerrar()}},nativeOn:{shortkey:function(e){return t.skBuscarCodigo.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),e(i.a,{attrs:{cols:t.actions?6:12,sm:t.actions?2:4}},[e("div",{staticClass:"d-flex justify-center align-center mb-2"},[e(n.a,{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","b"],expression:"['ctrl', 'b']"}],attrs:{outlined:"",block:"",large:"",color:"primary",loading:t.isLoading},on:{click:function(e){return t.realizarBusqueda(0)}},nativeOn:{shortkey:function(e){return t.realizarBusqueda(0)}}},[t._v("\n                            Buscar [CTRL+B]\n                            "),e(s.a,{attrs:{right:""}},[t._v("mdi-cloud-search-outline")])],1)],1)]),t._v(" "),t.actions?e(i.a,{attrs:{cols:"6",sm:"2"}},[e("div",{staticClass:"d-flex justify-center align-center mb-2"},[t._t("default")],2)]):t._e()],1)],1)],1)],1)}),[],!1,null,null,null);e.a=p.exports},77:function(t,e,r){"use strict";var n=r(98),o=r(318),a=r(1),i=r(157),s=r(1291),c=r(111),u=r(319),l=r(112),f=r(0),d=r(317),v=r(1340),h=r(47),p=r(27),m=r(121),y=r(3),g=r.n(y);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(){_=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function d(){}function v(){}var h={};s(h,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(C([])));m&&m!==e&&r.call(m,o)&&(h=m);var y=v.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,s){var c=u(t[o],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==b(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=v,s(y,"constructor",v),s(v,"constructor",d),d.displayName=s(v,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(x.prototype),s(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(c(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function x(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function w(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){x(a,n,o,i,s,"next",t)}function s(t){x(a,n,o,i,s,"throw",t)}i(void 0)}))}}var k={components:{FormTextField:p.a},props:{caja:Object,required:!0},mounted:function(){this.init()},data:function(){return{isLoading:{init:!1,save:!1},turno:{idturno:0,idcaja:0,nombre:"",usuario:"",apertura:"",monto:0},rules:m.a}},methods:{init:function(){var t=this;return w(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading.init=!0,e.next=3,t.$axios.get("/cajas/"+t.caja.idcaja+"/turnos-disponibles").then((function(e){t.turno.idturno=e.data.idturno,t.turno.idcaja=e.data.idcaja,t.turno.nombre=e.data.nombre,t.turno.apertura=e.data.apertura,t.$emit("obtenido",t.turno)})).catch((function(t){console.log(t)}));case 3:t.isLoading.init=!1;case 4:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return w(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$refs.form.validate()){e.next=5;break}return t.isLoading.save=!0,e.next=4,t.$axios.post("/turnos",t.turno).then((function(e){t.turno=e.data,t.$emit("registrado")})).catch((function(t){console.log(t)}));case 4:t.isLoading.save=!1;case 5:case"end":return e.stop()}}),e)})))()}},computed:{fecha:function(){return g()(this.turno.apertura).format("DD/MM/YYYY HH:mm a")}}},L=r(4),j=Object(L.a)(k,(function(){var t=this,e=t._self._c;return e("div",[t.isLoading.init?e("div",{staticClass:"d-flex justify-center align-center"},[e(o.a,{staticClass:"rounded-lg",attrs:{outlined:"",width:"450",height:"350"}},[e(a.c,[e("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"350px"}},[e(d.a,{attrs:{indeterminate:""}})],1)])],1)],1):t.turno.idturno>0?e("div",[t._t("default",null,{turno:t.turno})],2):e("div",{staticClass:"d-flex justify-center align-center"},[e(o.a,{staticClass:"rounded-lg",attrs:{outlined:"",width:"450"}},[e(a.d,[t._v(" Registro de Turno ")]),t._v(" "),e(a.b,[t._v("\n        Registra el inicio de un nuevo turno de cobro\n      ")]),t._v(" "),e(i.a),t._v(" "),e(a.c,[e(s.a,{ref:"form",attrs:{"lazy-validation":"",id:"habilitar-turno"},on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[e(u.a,[e(l.a,[e(f.b,[e(f.c,[t._v(" Dispositivo ")])],1),t._v(" "),e(f.b,[e(f.d,[t._v("\n                  "+t._s(t.caja.nombre)+"\n                ")])],1)],1),t._v(" "),e(l.a,[e(f.b,[e(f.c,[t._v("\n                  Usuario que apertura\n                ")])],1),t._v(" "),e(f.b,[e(f.d,[t._v("\n                  "+t._s(t.turno.nombre)+"\n                ")])],1)],1),t._v(" "),e(l.a,[e(f.b,[e(f.c,[t._v("\n                  Fecha de Apertura\n                ")])],1),t._v(" "),e(f.b,[e(f.d,[t._v("\n                  "+t._s(t.fecha)+"\n                ")])],1)],1)],1),t._v(" "),e("div",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[e(h.a,{staticClass:"rounded-lg",attrs:{outlined:"",column:!0,prefix:"Q",type:"number",label:"Monto de Inicio"},on:{focus:function(t){return t.target.select()}},model:{value:t.turno.monto,callback:function(e){t.$set(t.turno,"monto",e)},expression:"turno.monto"}})],1)],1)],1),t._v(" "),e(a.a,[e(n.a,{attrs:{text:""},on:{click:function(e){return t.$router.go(-1)}}},[e(c.a,{attrs:{left:""}},[t._v("mdi-chevron-left")]),t._v("\n          Regresar\n        ")],1),t._v(" "),e(v.a),t._v(" "),e(n.a,{attrs:{color:"primary",type:"submit",form:"habilitar-turno",loading:t.isLoading.save}},[e(c.a,{attrs:{left:""}},[t._v(" mdi-content-save ")]),t._v("\n          Registrar Turno\n        ")],1)],1)],1)],1)])}),[],!1,null,null,null);e.a=j.exports},84:function(t,e,r){"use strict";var n=r(1293),o=r(98),a=r(318),i=r(1),s=r(153),c=r(111),u=r(1340);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(){f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function v(){}function h(){}function p(){}var m={};s(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==e&&r.call(g,o)&&(m=g);var b=p.prototype=v.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,s){var c=u(t[o],t,a);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==l(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(d).then((function(t){f.value=t,i(f)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,s(b,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(x.prototype),s(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(c(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(b),s(b,i,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function d(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){d(a,n,o,i,s,"next",t)}function s(t){d(a,n,o,i,s,"throw",t)}i(void 0)}))}}var h={props:{value:{type:Object,required:!0}},data:function(){return{isLoading:!1,isOpen:!1,fullscreen:!1,url:"",error:{status:!1,message:""}}},methods:{ver:function(){var t=this;return v(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.obtener();case 2:t.isOpen=!0;case 3:case"end":return e.stop()}}),e)})))()},obtener:function(){var t=this;return v(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.$axios({method:"post",url:"/ventas/"+t.venta.idventa+"/recibo",responseType:"blob",data:t.venta}).then((function(e){t.url=window.URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}))})).catch((function(t){console.log(t)}));case 3:t.isLoading=!1;case 4:case"end":return e.stop()}}),e)})))()}},computed:{venta:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},p=r(4),m=Object(p.a)(h,(function(){var t=this,e=t._self._c;return e("div",[t._t("default",(function(){return[e(o.a,{attrs:{color:"primary",loading:t.isLoading},on:{click:function(e){return t.ver()}}},[e(c.a,{attrs:{left:""}},[t._v("mdi-printer")]),t._v("\n      Recibo\n    ")],1)]}),{open:t.ver,loading:t.isLoading}),t._v(" "),e(s.a,{attrs:{width:"900",fullscreen:t.fullscreen},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[e(a.a,{staticClass:"rounded-lg",attrs:{outlined:"",elevation:"0"}},[e(i.d,[t._v(" Recibo de Transacción ")]),t._v(" "),e(i.c,[t.error.status?e(n.a,{attrs:{text:"",type:"error"}},[e("strong",[t._v("Error:")]),t._v("\n          "+t._s(t.error.message)+"\n        ")]):t._e(),t._v(" "),e("iframe",{attrs:{src:t.url,width:"100%",height:"500",frameborder:"0"}})],1),t._v(" "),e(i.a,[e(u.a),t._v(" "),e(o.a,{staticClass:"px-2",attrs:{large:"",outlined:""},on:{click:function(e){t.isOpen=!1}}},[e(c.a,{attrs:{left:""}},[t._v("mdi-chevron-left")]),t._v("\n          Regresar\n        ")],1)],1)],1)],1)],2)}),[],!1,null,null,null);e.a=m.exports}}]);